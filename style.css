/* ====== THEME TOKENS ====== */
:root {
    --color-text-primary: #1f2936;
    --color-text-placeholder: #798eae;
    --color-bg-primary: #f9fafb;
    --color-bg-secondary: #ececfd;
    --color-bg-sidebar: #ffffff;
    --color-border-hr: #e2e8f0;
    --color-hover-primary: #695cfe;
    --color-hover-secondary: #e2e2fb;
    --color-shadow: rgba(0, 0, 0, 0.05);
  }
  body.dark-theme {
    --color-text-primary: #f1f5f9;
    --color-text-placeholder: #a6b7d2;
    --color-bg-primary: #111827;
    --color-bg-secondary: #3d4859;
    --color-bg-sidebar: #1f2937;
    --color-border-hr: #3b475c;
    --color-hover-secondary: #48566a;
    --color-shadow: rgba(0, 0, 0, 0.3);
  }
  
  * { margin:0; padding:0; box-sizing:border-box; font-family:"Poppins", sans-serif; }
  body { background: var(--color-bg-primary); color: var(--color-text-primary); }
  
  /* ====== LAYOUT ====== */
  .container { display:flex; min-height:100dvh; }
  .sidebar {
    position: sticky; top: 0; height: 100dvh; width: 270px; flex-shrink:0;
    display:flex; flex-direction:column; background:var(--color-bg-sidebar);
    border-right:1px solid var(--color-border-hr); box-shadow:0 3px 9px var(--color-shadow);
    transition: width .4s ease;
  }
  .sidebar.collapsed { width: 90px; }
  
  .sidebar .sidebar-header { display:flex; align-items:center; justify-content:space-between; padding:20px 18px; border-bottom:1px solid var(--color-border-hr); position:relative; }
  .header-brand { display:flex; align-items:center; gap:12px; overflow:hidden; }
  .header-logo { width:46px; height:46px; object-fit:cover; border-radius:50%; display:block; transition: opacity .4s ease; }
  .header-title { font-weight:600; white-space:nowrap; transition:opacity .3s ease; }
  .sidebar.collapsed .header-logo, .sidebar.collapsed .header-title { opacity:0; pointer-events:none; }
  
  .sidebar-toggle { height:40px; width:40px; border:none; position:absolute; right:18px; cursor:pointer; border-radius:8px; display:grid; place-items:center; color:var(--color-text-primary); background:var(--color-bg-secondary); }
  .sidebar.collapsed .sidebar-toggle { height:48px; width:50px; transform: translateX(-2px); }
  .sidebar-toggle:hover { background: var(--color-hover-secondary); }
  
  .sidebar .sidebar-content { flex:1; padding:20px 18px; overflow:auto; scrollbar-width:thin; scrollbar-color: var(--color-text-placeholder) transparent; }
  .sidebar.collapsed .sidebar-content { scrollbar-width:none; }
  
  .search-form { min-height:48px; border-radius:8px; display:flex; align-items:center; gap:12px; padding:0 15px; margin:5px 0 20px; white-space:nowrap; background:var(--color-bg-secondary); transition:.4s ease; }
  .search-form input { border:none; outline:none; background:none; width:100%; font-size:1rem; color:var(--color-text-primary); }
  .search-form input::placeholder { color: var(--color-text-placeholder); }
  
  .menu-list { list-style:none; display:flex; flex-direction:column; gap:4px; }
  .menu-link { text-decoration:none; display:flex; align-items:center; gap:12px; white-space:nowrap; padding:12px 15px; border-radius:8px; color:var(--color-text-primary); transition:.3s ease; }
  .menu-link .menu-label { font-size:.9rem; }
  /* Espaçamento entre campos */
  .field + .field { margin-top:12px; }
  .sidebar.collapsed .menu-link .menu-label { opacity:0; pointer-events:none; }
  .menu-link:is(:hover, .active) { color:#fff; background:var(--color-hover-primary); }
  
  .sidebar-footer { padding:20px 18px; border-top:1px solid var(--color-border-hr); }
  .theme-toggle { width:100%; min-height:48px; border-radius:8px; border:none; cursor:pointer; padding:0 15px; display:flex; align-items:center; gap:10px; color:var(--color-text-primary); background:var(--color-bg-secondary); transition:.3s ease; }
  .theme-toggle:hover { background: var(--color-hover-secondary); }
  .theme-toggle-track { height:24px; width:48px; border-radius:999px; margin-left:auto; background:#c3d1ec; position:relative; transition: background-color .3s ease, width .2s ease, opacity .2s ease; }
  body.dark-theme .theme-toggle-track { background:#695cfe; }
  .theme-toggle-indicator { position:absolute; top:3px; left:3px; height:18px; width:18px; background:#fff; border-radius:50%; box-shadow:0 2px 4px rgba(0,0,0,.1); transition: transform .3s ease; }
  body.dark-theme .theme-toggle-indicator { transform: translateX(24px); }
  /* Esconder label e trilho no sidebar colapsado */
  .sidebar.collapsed .theme-label,
  .sidebar.collapsed .theme-toggle-track { width:0; opacity:0; margin:0; padding:0; overflow:hidden; }
  
  .site-nav { display:none; position:sticky; top:0; padding:15px 20px; background:var(--color-bg-primary); border-bottom:1px solid var(--color-border-hr); }
  .site-nav .sidebar-toggle { position:unset; }
  
  .main { flex:1; padding:30px; }
  .page-title { font-size:1.5rem; font-weight:600; margin-bottom:20px; }
  .card { border-radius:12px; padding:20px; background:var(--color-bg-sidebar); box-shadow:0 1px 3px rgba(0,0,0,.1); }
  
  /* Dashboard cards */
  .kpi-grid { display:grid; grid-template-columns: repeat(4, minmax(0,1fr)); gap:16px; margin-bottom:20px; }
  .kpi { display:flex; align-items:center; gap:12px; padding:16px; border-radius:12px; background:var(--color-bg-sidebar); box-shadow:0 1px 3px rgba(0,0,0,.08); }
  .kpi .icon { font-variation-settings: 'FILL' 0; }
  .kpi .value { font-size:1.4rem; font-weight:700; }
  .kpi .sub { color:var(--color-text-placeholder); font-size:.9rem; }
  
  .grid-2 { display:grid; grid-template-columns: 1.2fr .8fr; gap:16px; }
  canvas { width:100%; height:260px; }
  
  /* Tabelas e listas */
  .toolbar { display:flex; gap:10px; align-items:center; justify-content:space-between; margin-bottom:12px; }
  .input, .select, .btn { min-height:48px; border-radius:10px; border:1px solid var(--color-border-hr); background:var(--color-bg-sidebar); color:var(--color-text-primary); padding:10px 14px; }
  .btn { border:none; background:var(--color-hover-primary); color:#fff; cursor:pointer; }
  .btn.ghost { background: var(--color-bg-secondary); color: var(--color-text-primary); }
  .btn:disabled { opacity:.6; cursor:not-allowed; }
  table { width:100%; border-collapse:separate; border-spacing:0 8px; }
  thead th { text-align:left; font-weight:600; color:var(--color-text-placeholder); padding:8px 12px; }
  tbody tr { background:var(--color-bg-sidebar); box-shadow: 0 1px 2px rgba(0,0,0,.04); }
  tbody td { padding:12px; border-top:1px solid var(--color-border-hr); border-bottom:1px solid var(--color-border-hr); }
  tbody td:first-child { border-left:1px solid var(--color-border-hr); border-top-left-radius:10px; border-bottom-left-radius:10px; }
  tbody td:last-child { border-right:1px solid var(--color-border-hr); border-top-right-radius:10px; border-bottom-right-radius:10px; }
  
  .badge { display:inline-flex; align-items:center; gap:6px; padding:4px 10px; border-radius:999px; font-size:.8rem; background: var(--color-bg-secondary); }
  
  /* Notificações */
  .tabs { display:flex; gap:8px; margin-bottom:12px; }
  .tab { padding:8px 12px; border-radius:999px; background:var(--color-bg-secondary); cursor:pointer; }
  .tab.active { background: var(--color-hover-primary); color:#fff; }
  .notif { display:flex; gap:12px; padding:12px; border-radius:12px; background:var(--color-bg-sidebar); box-shadow:0 1px 2px rgba(0,0,0,.08); align-items:center; }
  .notif.unread { outline: 2px dashed var(--color-hover-primary); }
  
  /* Modal */
  dialog { border:none; border-radius:16px; width:min(560px, 92vw); padding:0; background:var(--color-bg-sidebar); color:var(--color-text-primary); box-shadow: 0 10px 40px rgba(0,0,0,.25); }
  dialog::backdrop { background: rgba(0,0,0,.45); }
  .modal-header { display:flex; align-items:center; justify-content:space-between; padding:16px 18px; border-bottom:1px solid var(--color-border-hr); }
  .modal-body { padding:16px 18px; display:grid; gap:12px; }
  .modal-footer { padding:16px 18px; display:flex; gap:10px; justify-content:flex-end; border-top:1px solid var(--color-border-hr); }
  .field { display:grid; gap:4px; }
  label { font-size:.9rem; }
  
  /* RESPONSIVO */
  @media (max-width: 1100px) {
    .kpi-grid { grid-template-columns: repeat(2, minmax(0,1fr)); }
    .grid-2 { grid-template-columns: 1fr; }
  }
  @media (max-width: 768px) {
    body::before { content:""; position:fixed; inset:0; z-index:10; opacity:0; pointer-events:none; background:rgba(0,0,0,.6); transition:.4s ease; }
    body:has(.sidebar:not(.collapsed))::before { opacity:1; pointer-events:auto; }
    .site-nav { display:block; }
    .sidebar { position:fixed; left:0; width:270px; height:100%; z-index:20; transition:left .4s ease; }
    .sidebar.collapsed { left:-270px; width:270px; }
    .main { padding:20px; }
  }
  
